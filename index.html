<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/> 
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <link href="styles.css" rel="stylesheet" type="text/css">
    <title>Yummies</title> 
    <link rel="icon" href="yum.PNG" type="image/gif">
 


</head>
<body>
  
 <section>
    <div class="heading">Yummies</div>
  <div class="pcontainer">
  <!--<img src="Header.PNG" width="400px">-->
      <div class="container">
        <div class="topnav">
          <a href="index.html">Home</a>
          <a href="About.html">About Us</a>
          <input id="search" type="text"onclick="getrecipe(document.getElementById('search').value)" placeholder="Search & Click">
        </div>
      </div>
  </div> <!--Menu nav bar image location in css-->

 <!-- Slideshow container -->
<div class="slideshow-container">

  <!-- Full-width images with number and caption text -->
  <div class="mySlides fade">
    <div class="numbertext">1 / 3</div>
    <img src="https://images.ctfassets.net/uexfe9h31g3m/6cXUnG9vTasyUoCQAiIUAc/94619f709dd48dc4dddcc03774bb7f55/Kebabish_Style_Nuggets_Recipe_Web__2_.jpg?fm=jpg&fit=thumb&w=1200&h=630&fl=progressive" style="width:100%">
    <div class="text">Find Meals</div>
  </div>

  <div class="mySlides fade">
    <div class="numbertext">2 / 3</div>
    <img src="https://www.berries.com/blog/wp-content/uploads/2015/05/hero-dessert-prep.jpg" style="width:100%">
    <div class="text">Find Desserts</div>
  </div>

  <div class="mySlides fade">
    <div class="numbertext">3 / 3</div>
    <img src="https://www.restaurantnz.co.nz/wp-content/uploads/2017/05/landscape-1452186449-gettyimages-169264383.jpg" style="width:100%">
    <div class="text">Find Breakfast</div>
  </div>

  <!-- Next and previous buttons -->
  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>
<br>

<!-- The dots/circles -->
<div style="text-align:center">
  <span class="dot" onclick="currentSlide(1)"></span>
  <span class="dot" onclick="currentSlide(2)"></span>
  <span class="dot" onclick="currentSlide(3)"></span>
</div>

<hr style="border: 4px solid #333;" />
<hr style="border: 4px solid white;" />

<div class="imagescontainer">
<div class="gallery">
  <a target="Chicken" href="http://www.olgasflavorfactory.com/main-course/poultry/chicken-spinoccoli-breaded-stuffed-chicken-breast-with-spinach-broccoli-and-cheese/">
    <img src="chicken.jpg" alt="Chicken" width="600" height="400">
  </a>
  <div class="desc">Chicken Recipes</div> 
</div> <div class="des"><p></p> </div>

<div class="gallery">
  <a target="_blank" href="https://www.simplyrecipes.com/recipes/vegetarian_spinach_and_mushroom_lasagna/">
    <img src="lasagna.jpg" alt="Lasagna" width="600" height="400">
  </a>
  <div class="desc">Lasagna Recipes</div>
</div>

<div class="gallery">
  <a target="_blank" href="http://naturallyella.com/cabbage-salad-with-peanuts/">
    <img src="salad.jpg" alt="Salad" width="600" height="400">
  </a>
  <div class="desc">Salad Recipes</div>
</div>



<div class="gallery">
  <a target="_blank" href="http://www.food.com/recipe/jilted-eggs-218733">
    <img src="eggs.jpg" alt="Eggs" width="600" height="400">
  </a>
  <div class="desc">Eggs Recipes</div>
</div>
  <br> <br> <br>
</div>
<main class="row" style="padding: 40px"></main> <!--Page spacing-->
<div class="searchFor">
 
</div>
  
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>

    <div class="apiOutput">

    <div id="output"></div>
    <div id="sum"></div>
    <div id="ingred"></div>
    <div id="instruct"></div>
 
    <a href="" id="sourceLink"></a>
    </div>


  
    <script>
      var slideIndex = 1;
        showSlides(slideIndex);
        
        // Next/previous controls
        function plusSlides(n) {
          showSlides(slideIndex += n);
        }
        
        // Thumbnail image controls
        function currentSlide(n) {
          showSlides(slideIndex = n);
        }
        
        function showSlides(n) {
          var i;
          var slides = document.getElementsByClassName("mySlides");
          var dots = document.getElementsByClassName("dot");
          if (n > slides.length) {slideIndex = 1}
          if (n < 1) {slideIndex = slides.length}
          for (i = 0; i < slides.length; i++) {
              slides[i].style.display = "none";
          }
          for (i = 0; i < dots.length; i++) {
              dots[i].className = dots[i].className.replace(" active", "");
          }
          slides[slideIndex-1].style.display = "block";
          dots[slideIndex-1].className += " active";
        }
        
        
            var slideIndex = 0;
        showSlides();
        
        function showSlides() {
          var i;
          var slides = document.getElementsByClassName("mySlides");
          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
          }
          slideIndex++;
          if (slideIndex > slides.length) {slideIndex = 1}
          slides[slideIndex-1].style.display = "block";
          setTimeout(showSlides, 4000); // Change image every 4 seconds
        }
          </script>
  

<script>
  function getsource(id){
    $.ajax({
    url:"https://api.spoonacular.com/recipes/"+id+"/information?apiKey=fb5618a2180f43fbae0f2729e7b001e2",
    success: function(res) {
  
    document.getElementById("sourceLink").innerHTML=res.sourceUrl
    document.getElementById("sourceLink").href=res.sourceUrl
    
  }   
  });
  }
  
  function getSum(id){
        $.ajax({
        url:"https://api.spoonacular.com/recipes/" + id + "/information?apiKey=fb5618a2180f43fbae0f2729e7b001e2&includeNutrition=false",
        success: function(res) {
  
        document.getElementById("sum").innerHTML="<p style='font-family:Georgia light'><font size='3'>"+'<b>Overview: </b><br>' +res.summary+"</font></p>"
      }   
      });
      }

    var number;
    var i=0;
      function getIngredients(id){
        
        $.ajax({
        url:"https://api.spoonacular.com/recipes/" + id + "/information?apiKey=fb5618a2180f43fbae0f2729e7b001e2&includeNutrition=false",
        success: function(res) {
  
          number=res.extendedIngredients.length;
          console.log(number)

          var text = "";
          for (i = 0; i < number; i++) {
          text +="<li>"+res.extendedIngredients[i].original+ "</li>";
          }


        document.getElementById("ingred").innerHTML="<h3>"+"Ingredients:"+"</h3>"+"<p style='font-family:Georgia light'><font size='4'>"+text+"</font></p>"
        console.log(res.extendedIngredient)
      
      }   
      });
      }

      var n;
      var x=0;
      var z=1;
      function getInstructions(id){
        
        $.ajax({
        url:"https://api.spoonacular.com/recipes/"+ id +"/analyzedInstructions?apiKey=fb5618a2180f43fbae0f2729e7b001e2",
        success: function(res) {

          n=res[0].steps.length;
          console.log(n)

          var list = "";
          z=1;

          for(x=0; x<n; x++){
            list +=z+". "+ res[0].steps[x].step+ "<br>";
            z++;
            
          }

          document.getElementById("instruct").innerHTML="<h3>"+"Directions:"+"</h3>"+"<p style='font-family:Georgia light'><font size='3'>"+list+"</font></p>"+"<br>"+ "<p>For More Info About Recipe: <p>"
          console.log(res[0].steps)
        }
        });
      }
  
  function getrecipe(que){
    $.ajax({
    url:"https://api.spoonacular.com/recipes/search?apiKey=fb5618a2180f43fbae0f2729e7b001e2&number=1&query="+que,
    success: function(res) {
   
    document.getElementById("output").innerHTML="<h1>"+res.results[0].title+"</h1><br><img src='"+res.baseUri+res.results[0].image+"' width='400' /><br>"+"<p style='font-family:Georgia light'><font size='3'>"+'<b>Ready in </b>'+ res.results[0].readyInMinutes+' minutes'+"</font></p>"+"<p style='font-family:Georgia light'><font size='3'>" +'<b>Servings: </b>'+ res.results[0].servings+"</font></p>"
    getsource(res.results[0].id)
    getSum(res.results[0].id)
    getIngredients(res.results[0].id)
    getInstructions(res.results[0].id)
    }
    });
    }
  </script> <!--Script for api-->
</section>

<footer id="footer">
  <p>Powered by <a href="https://spoonacular.com/food-api">spoonacular API</a></p>
</footer>

</body>
</html>